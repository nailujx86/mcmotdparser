"use strict";function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function _createForOfIteratorHelper(r,t){var e;if("undefined"==typeof Symbol||null==r[Symbol.iterator]){if(Array.isArray(r)||(e=_unsupportedIterableToArray(r))||t&&r&&"number"==typeof r.length){e&&(r=e);var o=0,t=function(){};return{s:t,n:function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}},e:function(r){throw r},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,l=!1;return{s:function(){e=r[Symbol.iterator]()},n:function(){var r=e.next();return a=r.done,r},e:function(r){l=!0,n=r},f:function(){try{a||null==e.return||e.return()}finally{if(l)throw n}}}}function _unsupportedIterableToArray(r,t){if(r){if("string"==typeof r)return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(r,t):void 0}}function _arrayLikeToArray(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,o=new Array(t);e<t;e++)o[e]=r[e];return o}var motdParser={classes:{bold:"mc_bold",italic:"mc_italic",underlined:"mc_underlined",strikethrough:"mc_strikethrough",obfuscated:"mc_obfuscated"},colors:{"§0":"black","§1":"dark-blue","§2":"dark-green","§3":"dark-acqua","§4":"dark-red","§5":"dark-purple","§6":"gold","§7":"gray","§8":"dark-gray","§9":"blue","§a":"green","§b":"aqua","§c":"red","§d":"light-purple","§e":"yellow","§f":"white"},extras:{"§k":"obfuscated","§l":"bold","§m":"strikethrough","§n":"underline","§o":"italic"},parseJsonToHTML:function(r){for(var t="",e="",o=0,n=Object.keys(r);o<n.length;o++){var a=n[o];if("text"!=a)if(motdParser.classes.hasOwnProperty(a))t+=" "+motdParser.classes[a];else if("color"!=a){if("extra"==a){var l=_createForOfIteratorHelper(r.extra);try{for(l.s();!(s=l.n()).done;){var s=s.value;e+=motdParser.parseJsonToHTML(s)}}catch(r){l.e(r)}finally{l.f()}}}else t+=" mc_"+r[a];else e+=r.text}return'<span class="'+t.trim()+'">'+e+"</span>"},jsonToHtml:function(r,t){r=JSON.parse(JSON.stringify(r).split("\\n").join("<br>")),t(null,'<div class="mc">'+motdParser.parseJsonToHTML(r)+"</div>")},textToJson:function(r,t){for(var e={text:"",extra:[]},o=e,n=r.split(""),a=0;a<n.length;a++){var l,s={};"§"!=n[a]?o.text+=n[a]:(o=("r"==n[a+1]?(s={text:"",extra:[]},e.extra.push(s)):(l="§"+n[a+1],s={text:"",extra:[]},motdParser.colors.hasOwnProperty(l)&&(s.color=motdParser.colors[l]),motdParser.extras.hasOwnProperty(l)&&(s[motdParser.extras[l]]=!0),o.extra.push(s)),s),a++)}t(null,e)},toHtml:function(r,e){"object"===_typeof(r)?motdParser.jsonToHtml(r,function(r,t){console.log(t),r?e(r):e(null,t)}):"string"==typeof r&&motdParser.textToJson(r,function(r,t){r?e(r):motdParser.jsonToHtml(t,function(r,t){r?e(r):e(null,t)})})}};